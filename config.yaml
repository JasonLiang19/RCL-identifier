# RCL Predictor Configuration

# Data settings
data:
  max_length: 1024
  train_split: 0.8
  val_split: 0.1
  test_split: 0.1
  random_seed: 42
  
  # Paths
  train_serpin: "data/raw/Alphafold_RCL_annotations.csv"
  train_non_serpin: "data/raw/non_serpin_train.csv"
  test_serpin: "data/raw/Uniprot_Test_Set.csv"
  test_non_serpin: "data/raw/non_serpin_test.csv"
  fasta_annotations: "data/raw/RCL_annotations.fasta"

# Encoding settings
encoding:
  onehot:
    dim: 21
  blosum:
    dim: 20
  esm2:
    model_name: "facebook/esm2_t33_650M_UR50D"
    dim: 1280
    batch_size: 4  # For embedding generation
  esm2_650m:
    dim: 1280
    batch_size: 1  # Use 1-2 for large datasets to avoid OOM
    
# Model architectures
models:
  cnn:
    channels: [256, 128, 64, 32]
    kernel_sizes: [7, 5, 5, 3]
    dropout: 0.3
    
  unet:
    base_filters: 32
    depth: 4
    dropout: 0.25
    attention: true

  lstm:
    hidden_dim: 256
    num_layers: 2
    dropout: 0.3
    num_classes: 2
    
  graph:
    hidden_dim: 128
    num_layers: 3
    dropout: 0.3
    k_neighbors: 5  # For graph construction

# Training settings
training:
  batch_size: 32
  epochs: 50
  learning_rate: 0.001
  weight_decay: 0.0001
  patience: 5  # Early stopping
  
  # Loss weights (class imbalance)
  loss_weights: [1.0, 5.0]  # [non-RCL, RCL]
  
  # Optimizer
  optimizer: "adam"  # adam, adamw, sgd
  scheduler: "reduce_on_plateau"  # reduce_on_plateau, cosine, none
  
  # Checkpointing
  save_top_k: 3
  monitor: "val_f1"
  mode: "max"

# Evaluation settings
evaluation:
  metrics: ["accuracy", "precision", "recall", "f1", "mcc", "auc"]
  threshold: 0.5  # Probability threshold for binary classification

# Hardware
hardware:
  device: "cuda"  # cuda, cpu, mps
  num_workers: 4
  pin_memory: true
  mixed_precision: false  # Use automatic mixed precision
  
  # Multi-GPU settings
  use_multi_gpu: true  # Enable DataParallel for multiple GPUs
  gpu_ids: [0, 1]  # Specific GPU IDs to use (empty list = use all available)

# Logging
logging:
  use_tensorboard: true
  log_interval: 10  # Steps between logging
  save_predictions: true
  
# Output
output:
  runs_dir: "runs"
  models_dir: "models"
  predictions_dir: "predictions"
